"use strict";if("undefined"!=typeof module&&null!==module&&"undefined"!==eval("typeof require")&&null!==eval("require")&&"main"in eval("require")&&"undefined"!==eval("typeof require.main")&&null!==eval("require.main")){var ORIGINAL_MAIN_MODULE=module;module!==eval("require.main")&&"paths"in module&&"paths"in eval("require.main")&&"undefined"!=typeof __dirname&&null!==__dirname&&(module.paths=eval("require.main.paths").concat(module.paths.filter((function(path){return eval("require.main.paths").includes(path)}))))}if(null==window)var window="undefined"==typeof global||null===global?{}:global;!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r(require("@babel/runtime/helpers/extends"),require("@babel/runtime/helpers/asyncToGenerator"),require("@babel/runtime/regenerator"),require("child_process"),require("clientnode"),require("path"),require("rimraf"));else if("function"==typeof define&&define.amd)define(["@babel/runtime/helpers/extends","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator","child_process","clientnode","path","rimraf"],r);else{var n="object"==typeof exports?r(require("@babel/runtime/helpers/extends"),require("@babel/runtime/helpers/asyncToGenerator"),require("@babel/runtime/regenerator"),require("child_process"),require("clientnode"),require("path"),require("rimraf")):r(e["@babel/runtime/helpers/extends"],e["@babel/runtime/helpers/asyncToGenerator"],e["@babel/runtime/regenerator"],e.child_process,e.clientnode,e.path,e.rimraf);for(var t in n)("object"==typeof exports?exports:e)[t]=n[t]}}(this,((e,r,n,t,a,o,i)=>(()=>{var u=[(e,r,n)=>{n.r(r),n.d(r,{default:()=>R,getPrerenderedOutputDirectories:()=>y,getPrerendererExecuter:()=>g,postConfigurationHotLoaded:()=>v,preLoadService:()=>b,preRender:()=>q,render:()=>w,renderFile:()=>k,shouldExit:()=>x});var t=n(1),a=n.n(t),o=n(2),i=n.n(o),u=n(3),s=n.n(u),c=n(4),l=n(5),d=n(6),p=n.n(d),f=n(7);function m(e,r){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,r){if(e){if("string"==typeof e)return h(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var t=0;return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=Array(r);n<r;n++)t[n]=e[n];return t}e=n.hmd(e);var v=function(){var e=i()(s().mark((function e(r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.configuration.preRender.renderAfterConfigurationUpdates||null==(n=r.services.preRender)||!n.render){e.next=1;break}return e.next=1,r.services.preRender.render(r);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=i()(s().mark((function e(r){var n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.configuration.preRender,(t=r.services).preRender={getPrerenderedOutputDirectories:y,getPrerendererExecuter:g,render:w,renderFile:k},!n.renderAfterConfigurationUpdates){e.next=1;break}return e.next=1,t.preRender.render(r);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=i()(s().mark((function e(r){var n,t,a,o,i,u,c,l,d,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.configuration,t=r.pluginAPI,a=r.plugins,o=r.services,Object.prototype.hasOwnProperty.call(o.preRender,"getPrerenderedOutputDirectories")){e.next=1;break}return e.abrupt("return");case 1:return i=[],d=m,e.next=2,o.preRender.getPrerenderedOutputDirectories(n,a,t);case 2:p=e.sent,u=d(p);case 3:if((c=u()).done){e.next=5;break}l=c.value,i.push((0,f.rimraf)(l.path).then((function(){})));case 4:e.next=3;break;case 5:return e.next=6,Promise.all(i);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=i()(s().mark((function e(r,n,t){var a,o,i,u,c,d,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[].concat(r.preRender.locations.output.directoryNames),o=[].concat(r.preRender.locations.output.exclude),e.next=1,g(r,n,t);case 1:i=e.sent.map((function(e){return p().dirname(e.path)})),u=[],c=s().mark((function e(){var r,n,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.value,n=u,e.next=1,(0,l.walkDirectoryRecursively)(r,(function(e){if(e.name.startsWith(".")||o.some((function(n){return e.path.startsWith(p().resolve(r,n))})))return!1}));case 1:t=e.sent.filter((function(e){var r;return!(!(null==(r=e.stats)?void 0:r.isDirectory())||0!==a.length&&!a.includes(e.name))})),n.concat.call(n,t);case 2:case"end":return e.stop()}}),e)})),d=m(i);case 2:if((f=d()).done){e.next=4;break}return e.delegateYield(c(),"t0",3);case 3:e.next=2;break;case 4:return e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=i()(s().mark((function e(r,n,t){var a,o,i,u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[].concat(r.preRender.locations.executer.fileNames),o=[],i=m(t.determineLocations(r,r.preRender.locations.executer.include));case 1:if((u=i()).done){e.next=4;break}return c=u.value,e.next=2,(0,l.walkDirectoryRecursively)(c,(function(e){if(e.name.startsWith(".")||t.isInLocations(r,n,e.path,r.preRender.locations.executer.exclude))return!1}));case 2:e.sent.map((function(e){var r;null!=(r=e.stats)&&r.isFile()&&a.includes(p().basename(e.name))&&o.push(e)}));case 3:e.next=1;break;case 4:return e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=i()(s().mark((function e(r){var n,t,o,i,u,c,l,d,p,f,h,v,b,x,y,w,q,R,P,S,O,_,j;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.configuration,o=r.pluginAPI,i=r.plugins,u=[].concat(null!==(n=r.data)&&void 0!==n?n:[]),h=o,v=a(),b={},x=r,e.next=1,g(t,i,o);case 1:return y=e.sent,w=v(b,x,{data:y,hook:"prePreRendererRender"}),e.next=2,h.callStack.call(h,w);case 2:c=e.sent,l=[],d=m(c);case 3:if((p=d()).done){e.next=6;break}return f=p.value,q=l,R=k,P=f.path,S=[],e.next=4,o.callStack(a()({},r,{hook:"prePreRendererCLIParameter",data:{file:f,parameters:[].concat(u,t.preRender.cache+"")}}));case 4:O=e.sent,_=S.concat.call(S,O),j=R(P,_),q.push.call(q,j);case 5:e.next=3;break;case 6:return e.next=7,Promise.all(l);case 7:return e.next=8,o.callStack(a()({},r,{data:c,hook:"postPreRendererRender"}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e,r){return void 0===r&&(r=[]),new Promise((function(n,t){for(var a,o,i=(0,c.spawn)(e,r,{cwd:p().dirname(e),env:process.env,shell:!0,stdio:"inherit"}),u=m(l.CLOSE_EVENT_NAMES);!(a=u()).done;)o=a.value,i.on(o,(0,l.getProcessCloseHandler)(n,t))}))},q=e.exports;const R=q},r=>{r.exports=e},e=>{e.exports=r},e=>{e.exports=n},e=>{e.exports=t},e=>{e.exports=a},e=>{e.exports=o},e=>{e.exports=i}],s={};function c(e){var r=s[e];if(void 0!==r)return r.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return u[e](n,n.exports,c),n.loaded=!0,n.exports}return c.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return c.d(r,{a:r}),r},c.d=(e,r)=>{for(var n in r)c.o(r,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},c.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),c.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c(0)})()));